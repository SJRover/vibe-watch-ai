:root{
  /* New theme: white / light blue / purple */
  --bgTop:#f7fbff;
  --bgMid:#d9ecff;
  --bgBot:#7d6bff;

  --card:rgba(255,255,255,0.78);
  --card2:rgba(245,248,255,0.72);
  --text:#0b1020;
  --muted:rgba(11,16,32,0.70);

  --accent:#5b7cff;   /* blue */
  --accent2:#9b7dff;  /* purple */
  --border:rgba(11,16,32,0.12);
  --shadow:0 24px 60px rgba(0,0,0,0.18);

  --glass: blur(10px);
}

*{box-sizing:border-box}
[hidden]{ display:none !important; }
html, body{ height:100%; }

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
  position:relative;

  /* Soft winter sky gradient */
  background:
    radial-gradient(900px 520px at 20% 10%, rgba(155,125,255,0.20), transparent 60%),
    radial-gradient(900px 520px at 80% 10%, rgba(91,124,255,0.20), transparent 62%),
    linear-gradient(180deg, var(--bgTop) 0%, var(--bgMid) 45%, rgba(125,107,255,0.35) 75%, rgba(10,12,30,0.92) 100%);
}

/* Scenic postcard layer (hills, candy canes, trees, clouds, little house lights) */
body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;

  background:
    /* snowy clouds */
    radial-gradient(260px 90px at 14% 12%, rgba(255,255,255,0.85), transparent 66%),
    radial-gradient(340px 110px at 38% 10%, rgba(255,255,255,0.70), transparent 68%),
    radial-gradient(300px 100px at 62% 14%, rgba(255,255,255,0.80), transparent 67%),
    radial-gradient(360px 120px at 86% 9%, rgba(255,255,255,0.65), transparent 70%),

    /* subtle glow haze */
    radial-gradient(1200px 700px at 50% 30%, rgba(155,125,255,0.12), transparent 65%),
    radial-gradient(1200px 700px at 60% 35%, rgba(91,124,255,0.12), transparent 65%),

    /* SVG scene at bottom */
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1800' height='900'%3E%3Cdefs%3E%3ClinearGradient id='hillA' x1='0' x2='0' y1='0' y2='1'%3E%3Cstop offset='0' stop-color='%23bfe6ff' stop-opacity='0.55'/%3E%3Cstop offset='1' stop-color='%239b7dff' stop-opacity='0.35'/%3E%3C/linearGradient%3E%3ClinearGradient id='hillB' x1='0' x2='0' y1='0' y2='1'%3E%3Cstop offset='0' stop-color='%23ffffff' stop-opacity='0.30'/%3E%3Cstop offset='1' stop-color='%235b7cff' stop-opacity='0.22'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M0 640 Q300 520 620 640 T1240 640 T1800 640 V900 H0Z' fill='url(%23hillA)'/%3E%3Cpath d='M0 720 Q360 600 740 720 T1380 720 T1800 720 V900 H0Z' fill='url(%23hillB)'/%3E%3Cg opacity='0.75'%3E%3Cg fill='%235b7cff'%3E%3Cpath d='M170 680 l26-62 26 62 h-52z'/%3E%3Cpath d='M210 680 l18-40 18 40 h-36z'/%3E%3Cpath d='M420 760 l28-68 28 68 h-56z'/%3E%3Cpath d='M468 760 l18-40 18 40 h-36z'/%3E%3Cpath d='M1240 700 l30-72 30 72 h-60z'/%3E%3Cpath d='M1292 700 l18-40 18 40 h-36z'/%3E%3Cpath d='M1540 780 l28-68 28 68 h-56z'/%3E%3Cpath d='M1588 780 l18-40 18 40 h-36z'/%3E%3C/g%3E%3C/g%3E%3Cg opacity='0.65'%3E%3Cg stroke='%239b7dff' stroke-width='14' stroke-linecap='round'%3E%3Cpath d='M820 840 c0-56 60-56 60-112'/%3E%3Cpath d='M848 840 c0-56 60-56 60-112'/%3E%3C/g%3E%3Cg stroke='%235b7cff' stroke-width='12' stroke-linecap='round'%3E%3Cpath d='M1020 835 c0-50 54-50 54-100'/%3E%3Cpath d='M1046 835 c0-50 54-50 54-100'/%3E%3C/g%3E%3C/g%3E%3Cg opacity='0.8'%3E%3Cg fill='%23ffd36b'%3E%3Ccircle cx='220' cy='790' r='2.2'/%3E%3Ccircle cx='248' cy='810' r='2.0'/%3E%3Ccircle cx='288' cy='800' r='2.2'/%3E%3Ccircle cx='332' cy='820' r='1.8'/%3E%3Ccircle cx='1160' cy='802' r='2.2'/%3E%3Ccircle cx='1200' cy='814' r='2.0'/%3E%3Ccircle cx='1260' cy='796' r='2.2'/%3E%3Ccircle cx='1324' cy='820' r='1.8'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") bottom center / cover no-repeat;

  opacity:1;
}

/* Soft vignette + tiny sparkle layer */
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-1;
  background:
    radial-gradient(1200px 700px at 50% 20%, rgba(255,255,255,0.25), transparent 60%),
    radial-gradient(900px 520px at 50% 120%, rgba(0,0,0,0.55), transparent 62%),
    repeating-linear-gradient(
      120deg,
      rgba(255,255,255,0.03) 0 10px,
      rgba(255,255,255,0.00) 10px 26px
    );
  opacity:0.35;
}

/* Snow: bigger, snowflake-shaped, varied sizes (3 layers) */
.snow{
  position:fixed;
  inset:-240px 0 0 0;
  pointer-events:none;
  z-index:0; /* behind UI */
  opacity:0.55;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.08));
}

.snow,
.snow::before,
.snow::after{
  content:"";
  position:absolute;
  inset:0;
  background-repeat:repeat;
  background-size: 520px 420px;
  animation: snowFall 10s linear infinite;
}

/* Layer 1: big flakes */
.snow{
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='520' height='420'%3E%3Cg fill='none' stroke='%23ffffff' stroke-opacity='0.92' stroke-width='2'%3E%3Cpath d='M60 60 l20 20 M80 60 l-20 20'/%3E%3Cpath d='M60 70 h20'/%3E%3Cpath d='M70 60 v20'/%3E%3Cpath d='M220 120 l26 26 M246 120 l-26 26'/%3E%3Cpath d='M220 133 h26'/%3E%3Cpath d='M233 120 v26'/%3E%3Cpath d='M420 80 l18 18 M438 80 l-18 18'/%3E%3Cpath d='M420 89 h18'/%3E%3Cpath d='M429 80 v18'/%3E%3C/g%3E%3Cg fill='%23ffffff' fill-opacity='0.45'%3E%3Ccircle cx='140' cy='210' r='2.2'/%3E%3Ccircle cx='360' cy='250' r='2.0'/%3E%3Ccircle cx='460' cy='190' r='1.8'/%3E%3C/g%3E%3C/svg%3E");
  animation-duration: 9s;
  opacity:0.70;
}

/* Layer 2: medium flakes */
.snow::before{
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='520' height='420'%3E%3Cg fill='none' stroke='%23ffffff' stroke-opacity='0.80' stroke-width='1.6'%3E%3Cpath d='M120 80 l14 14 M134 80 l-14 14'/%3E%3Cpath d='M120 87 h14'/%3E%3Cpath d='M127 80 v14'/%3E%3Cpath d='M300 150 l16 16 M316 150 l-16 16'/%3E%3Cpath d='M300 158 h16'/%3E%3Cpath d='M308 150 v16'/%3E%3Cpath d='M420 280 l14 14 M434 280 l-14 14'/%3E%3Cpath d='M420 287 h14'/%3E%3Cpath d='M427 280 v14'/%3E%3C/g%3E%3Cg fill='%23ffffff' fill-opacity='0.35'%3E%3Ccircle cx='60' cy='210' r='1.8'/%3E%3Ccircle cx='200' cy='260' r='1.6'/%3E%3Ccircle cx='470' cy='340' r='1.6'/%3E%3C/g%3E%3C/svg%3E");
  animation-duration: 12s;
  opacity:0.55;
}

/* Layer 3: small flakes */
.snow::after{
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='520' height='420'%3E%3Cg fill='%23ffffff' fill-opacity='0.45'%3E%3Ccircle cx='40' cy='40' r='1.3'/%3E%3Ccircle cx='140' cy='120' r='1.2'/%3E%3Ccircle cx='240' cy='70' r='1.1'/%3E%3Ccircle cx='320' cy='140' r='1.2'/%3E%3Ccircle cx='460' cy='100' r='1.1'/%3E%3Ccircle cx='90' cy='260' r='1.1'/%3E%3Ccircle cx='210' cy='300' r='1.2'/%3E%3Ccircle cx='360' cy='260' r='1.1'/%3E%3Ccircle cx='480' cy='310' r='1.2'/%3E%3C/g%3E%3C/svg%3E");
  animation-duration: 16s;
  opacity:0.45;
}

@keyframes snowFall{
  from{ transform:translate3d(0,0,0); }
  to{ transform:translate3d(22px,320px,0); }
}

/* UI wrapper */
.app{
  max-width:1100px;
  margin:0 auto;
  padding:22px 16px 40px;
  position:relative;
  z-index:1; /* above snow */
}

/* Header / brand */
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  margin-bottom:14px;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
}

.brand-logo{
  width:52px;
  height:52px;
  border-radius:14px;
  object-fit:cover;
  border:1px solid rgba(11,16,32,0.12);
  box-shadow: 0 16px 40px rgba(0,0,0,0.16);
  background: rgba(255,255,255,0.6);
}

.brand-text h1{
  margin:0;
  font-size:34px;
  letter-spacing:0.2px;
  line-height:1.05;
  color:#0b1020;
  text-shadow: 0 10px 26px rgba(0,0,0,0.12);
}

.brand-dot{
  color: var(--accent2);
}

.subtitle{
  margin:6px 0 0;
  color:var(--muted);
}

/* Layout */
.grid{
  display:grid;
  grid-template-columns: 1.1fr 1.4fr;
  gap:14px;
}
@media (max-width: 980px){
  .grid{grid-template-columns:1fr}
}

/* Cards: bright glass */
.card{
  background: linear-gradient(180deg, var(--card) 0%, var(--card2) 100%);
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:var(--shadow);
  padding:16px;
  backdrop-filter: var(--glass);
}
.card h2{margin:0 0 10px;font-size:18px}
.card h3{margin:14px 0 10px;font-size:15px}
.muted{color:var(--muted)}
.tiny{font-size:12px;color:var(--muted)}
.label{display:block;font-size:12px;color:var(--muted);margin:10px 0 6px}

/* Inputs */
textarea{
  width:100%;
  border-radius:14px;
  padding:12px;
  background:rgba(255,255,255,0.55);
  border:1px solid rgba(11,16,32,0.16);
  color:var(--text);
  resize:vertical;
  outline:none;
}
textarea:focus{
  border-color: rgba(91,124,255,0.45);
  box-shadow: 0 0 0 4px rgba(91,124,255,0.12);
}

.row{display:flex;gap:10px;margin-top:10px}
.col{flex:1}

input[type="range"]{width:100%}
.range-labels{
  display:flex;justify-content:space-between;
  font-size:11px;color:var(--muted);
  margin-top:6px;
}

/* Buttons */
.actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}

.btn{
  cursor:pointer;
  border-radius:14px;
  padding:10px 12px;
  border:1px solid rgba(11,16,32,0.16);
  background:rgba(255,255,255,0.55);
  color:var(--text);
  transition: transform .08s ease, box-shadow .12s ease, border-color .12s ease;
}
.btn:hover{
  border-color: rgba(91,124,255,0.35);
  box-shadow: 0 14px 40px rgba(0,0,0,0.10);
}
.btn:active{ transform: translateY(1px); }

.btn.primary{
  background: linear-gradient(180deg, rgba(91,124,255,0.28), rgba(155,125,255,0.18));
  border-color: rgba(91,124,255,0.35);
}
.btn.ghost{
  background:rgba(255,255,255,0.20);
  border-color:rgba(255,255,255,0.55);
}

/* Inline form */
.inline{display:flex;gap:10px;align-items:center}
.inline input{
  flex:1;
  border-radius:14px;
  padding:10px 12px;
  background:rgba(255,255,255,0.55);
  border:1px solid rgba(11,16,32,0.16);
  color:var(--text);
  outline:none;
}
.inline input:focus{
  border-color: rgba(155,125,255,0.45);
  box-shadow: 0 0 0 4px rgba(155,125,255,0.10);
}

/* Pills */
.pill-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.pill{
  cursor:pointer;
  padding:8px 10px;
  border-radius:999px;
  background:rgba(255,255,255,0.50);
  border:1px solid rgba(11,16,32,0.14);
  color:var(--text);
  font-size:12px;
}
.pill.on{
  border-color:rgba(91,124,255,0.45);
  box-shadow:0 0 0 3px rgba(91,124,255,0.12) inset;
}
.pill.off{
  border-color:rgba(155,125,255,0.55);
  box-shadow:0 0 0 3px rgba(155,125,255,0.10) inset;
}

.results-head{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:flex-end;
  margin-bottom:8px
}

/* Results */
.result-item{
  display:flex;
  gap:12px;
  padding:12px;
  border-radius:16px;
  border:1px solid rgba(11,16,32,0.12);
  background:rgba(255,255,255,0.46);
  margin-bottom:10px;
}
.result-poster{
  width:86px;height:128px;
  object-fit:cover;border-radius:12px;
  border:1px solid rgba(11,16,32,0.10);
}
.result-title{font-weight:800;margin-bottom:4px}
.badge{
  display:inline-block;
  padding:3px 8px;
  border-radius:999px;
  border:1px solid rgba(11,16,32,0.14);
  color:rgba(11,16,32,0.70);
  font-size:11px;
  margin-left:8px;
  background: rgba(255,255,255,0.55);
}
.result-meta{font-size:12px;color:rgba(11,16,32,0.70);margin-bottom:6px}
.result-reason{
  font-size:12px;
  color: rgba(91,124,255,0.95);
  margin:6px 0 8px;
}
.result-overview{font-size:13px;color:rgba(11,16,32,0.88);line-height:1.35}

.actions-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.btn-small{
  cursor:pointer;
  border-radius:12px;
  padding:8px 10px;
  border:1px solid rgba(11,16,32,0.14);
  background:rgba(255,255,255,0.55);
  color:var(--text);
  font-size:12px;
}
.btn-small:hover{
  border-color: rgba(91,124,255,0.35);
}

.split{display:flex;align-items:baseline;justify-content:space-between;gap:10px}

/* Mini list items */
.mini-item{
  display:flex;gap:10px;
  padding:10px;border-radius:14px;
  border:1px solid rgba(11,16,32,0.12);
  background:rgba(255,255,255,0.46);
  margin-bottom:8px;
}
.mini-poster{width:40px;height:56px;object-fit:cover;border-radius:10px;border:1px solid rgba(11,16,32,0.10)}
.mini-title{font-weight:800;font-size:13px}
.mini-meta{font-size:11px;color:rgba(11,16,32,0.70)}

/* Toast */
.toast{
  position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
  background:rgba(255,255,255,0.82);
  border:1px solid rgba(11,16,32,0.14);
  color:var(--text);
  padding:10px 12px;border-radius:999px;
  box-shadow:0 14px 40px rgba(0,0,0,0.12);
  z-index:50;
}

.footer{margin-top:14px;text-align:center}

/* Modal */
.modal{
  position:fixed; inset:0;
  background:rgba(10,12,30,0.35);
  display:flex;align-items:center;justify-content:center;
  padding:16px;
  z-index:60;
}
.modal-card{
  width:min(560px, 100%);
  background:linear-gradient(180deg, rgba(255,255,255,0.90), rgba(245,248,255,0.82));
  border:1px solid rgba(11,16,32,0.14);
  border-radius:18px;
  padding:16px;
  box-shadow:0 30px 70px rgba(0,0,0,0.20);
  backdrop-filter: var(--glass);
}
.modal-card h2{margin:0 0 10px}
.modal-actions{display:flex;justify-content:flex-end;margin-top:12px}
